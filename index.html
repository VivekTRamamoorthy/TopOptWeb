<!DOCTYPE html>
<html>

<head>
	<title>TopOpt</title>
	
	<link rel="stylesheet" href="index.css">
	<!-- IMPORTING EXTERNAL SCRIPTS -->
	<!-- math.js -->
	<script defer src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/9.2.0/math.js" integrity="sha512-SewEag0kt1xsJdbfAXgLyLvYXeAoGEla4M6JSitT6ocJVI+VeUbFXkgrbloNn4cVgq46caRf31un2eoalq6YOw==" crossorigin="anonymous"></script>
	
	<!-- stdlib -->
	<!-- <script type="text/javascript" src="/path/to/@stdlib/dist-math-base-special-flat/build/bundle.min.js"></script> -->
	
	<!-- IMPORTING SCRIPTS -->
	<script defer src="Matlab.js" type="text/javascript"></script>
	<script defer src="image.js" type="text/javascript"></script>
	<script defer src="ndarray.js" type="text/javascript"></script>
	
	
	
</head>
<body>
	<header>
		<h1>Structural Topology Optimisation</h1>
	</header>

	<section>
		<h2>Introduction</h2>
		<p>
			This is an interactive demo of structural topology optimisation on the web. This uses the solid isotropic material with penalisation method. 
			The procedure here closely follows the 88-line matlab code by <a href="https://doi.org/10.1007/s00158-010-0594-7">Andreassen et al</a>.
		</p>

	</section>

	<section>
		<h2>Optimisation panel</h2>
		<div class="panel flex-row">
			<!-- INSERTING CANVAS -->
			<canvas id='shape' ></canvas>
			<!-- CONTROL PANEL -->
			
			<div class="control-panel flex-column">
				
				<div id='compliancebox' class="display-value-box"> Compliance: unknown</div>
				<div id='iterations' class="display-value-box" > Iterations: 0</div>
				<div id='timeperiteration' class="display-value-box" > Time per iteration: unknown</div>
				
				<button onclick="computeAndUpdateCompliance()">Compute Compliance</button>
				<button onclick="SIMP1generation()">SIMP 1 iteration</button>
				<button onclick="toggleSIMP()" id="SIMPbutton">Keep running</button>
				<div class="display-value-box" > Pick and paint: </div>
				<div class="flex-row">
					<div class="box white" id="whitebox"></div> void
					<div class="box black" id="blackbox"></div> solid
					<div class="box gray ispicked" id="graybox"></div> 0.5
				</div>
				<button onclick="SIMPreset()">Reset</button>
			</div>
			
		</div>
		
		
	</section>

	<section>
		<h2>Instructions</h2>
		<ul>
			<li> Use the buttons to run SIMP
			</li>
			<li>
				You may manually change the shape by picking and painting 
				<code>void</code>,
				<code>solid</code>,
				or <code>0.5</code> onto the elements, and run SIMP from that shape.
			</li>

		</ul>
	</section>
	
	<footer>
		
	</footer>
	<!-- SCRIPTS -->
	<script defer type="text/javascript" src="SIMPcontrols.js"></script>
	<script defer type="text/javascript" src="main.js"></script>
	
	
</body>
</html>













