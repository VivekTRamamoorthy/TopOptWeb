<!DOCTYPE html>
<html>

<head>
	<title>TopOpt</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="A web app for topology optimisation">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css"
	integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A=="
	crossorigin="anonymous" referrerpolicy="no-referrer" />
	<link rel="stylesheet" href="index.css">
	
	<!-- IMPORTING EXTERNAL LIBRARIES -->
	<!-- math.js -->
	<script defer src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/9.2.0/math.js"
	integrity="sha512-SewEag0kt1xsJdbfAXgLyLvYXeAoGEla4M6JSitT6ocJVI+VeUbFXkgrbloNn4cVgq46caRf31un2eoalq6YOw=="
	crossorigin="anonymous"></script> 

	
	<!-- JS -->
	<script defer src="Matlab.js" type="text/javascript"></script>
	<script defer src="image.js" type="text/javascript"></script>
	<!-- <script defer src="ndarray.js" type="text/javascript"></script> -->
	<!-- <script defer src="mldivide.js" type="text/javascript"></script> -->
	
	<!-- PWA MANIFEST -->
	<link rel="manifest" href="manifest.json">
	<meta name="theme-color" content="#317EFB">
	<link rel="apple-touch-icon" href="icons/apple-icon-180.png">

<meta name="apple-mobile-web-app-capable" content="yes">

<link rel="apple-touch-startup-image" href="icons/apple-splash-2048-2732.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
<link rel="apple-touch-startup-image" href="icons/apple-splash-2732-2048.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
<link rel="apple-touch-startup-image" href="icons/apple-splash-1668-2388.jpg" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
<link rel="apple-touch-startup-image" href="icons/apple-splash-2388-1668.jpg" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
<link rel="apple-touch-startup-image" href="icons/apple-splash-1536-2048.jpg" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
<link rel="apple-touch-startup-image" href="icons/apple-splash-2048-1536.jpg" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
<link rel="apple-touch-startup-image" href="icons/apple-splash-1668-2224.jpg" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
<link rel="apple-touch-startup-image" href="icons/apple-splash-2224-1668.jpg" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
<link rel="apple-touch-startup-image" href="icons/apple-splash-1620-2160.jpg" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
<link rel="apple-touch-startup-image" href="icons/apple-splash-2160-1620.jpg" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
<link rel="apple-touch-startup-image" href="icons/apple-splash-1284-2778.jpg" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
<link rel="apple-touch-startup-image" href="icons/apple-splash-2778-1284.jpg" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
<link rel="apple-touch-startup-image" href="icons/apple-splash-1170-2532.jpg" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
<link rel="apple-touch-startup-image" href="icons/apple-splash-2532-1170.jpg" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
<link rel="apple-touch-startup-image" href="icons/apple-splash-1125-2436.jpg" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
<link rel="apple-touch-startup-image" href="icons/apple-splash-2436-1125.jpg" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
<link rel="apple-touch-startup-image" href="icons/apple-splash-1242-2688.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
<link rel="apple-touch-startup-image" href="icons/apple-splash-2688-1242.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
<link rel="apple-touch-startup-image" href="icons/apple-splash-828-1792.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
<link rel="apple-touch-startup-image" href="icons/apple-splash-1792-828.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
<link rel="apple-touch-startup-image" href="icons/apple-splash-1242-2208.jpg" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
<link rel="apple-touch-startup-image" href="icons/apple-splash-2208-1242.jpg" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
<link rel="apple-touch-startup-image" href="icons/apple-splash-750-1334.jpg" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
<link rel="apple-touch-startup-image" href="icons/apple-splash-1334-750.jpg" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
<link rel="apple-touch-startup-image" href="icons/apple-splash-640-1136.jpg" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
<link rel="apple-touch-startup-image" href="icons/apple-splash-1136-640.jpg" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
	
</head>

<body>
	<header>
		<h1>Structural Topology Optimisation</h1>
	</header>
	
	<section>
		<!-- <p>
			This is an interactive demo of structural topology optimisation on the web. This uses the solid isotropic
			material with penalisation (SIMP) method.
			The procedure here closely follows the 88-line matlab code by <a
			href="https://doi.org/10.1007/s00158-010-0594-7">Andreassen et al</a>.
		</p> -->
		<p>
			Optimal shape design of a beam clamped at the left edge with a downward force applied on the right edge.
		</p>
		
	</section>
	
	<section>
		<div class="panel">
			<!-- INSERTING CANVAS -->
			<canvas id='shape'></canvas>
			<!-- CONTROL PANEL -->
			
			<div class="control-panel flex-column">
				
				<div id='compliancebox' class="display-value-box"> Compliance: unknown</div>
				<div id='iterations' class="display-value-box"> Iterations: 0</div>
				<div id='timeperiteration' class="display-value-box"> Time per iteration: unknown</div>
				<div class="flex-row">
					
					<button class="tooltip" onclick="toggleSIMP()" id="SIMPbutton" aria-label="Run">
						<i class="fa fa-play" aria-hidden="true"></i>
						<!-- <p>
							Keep running
						</p> -->
						<span class="tooltiptext">Run SIMP</span>
					</button>
					<button class="tooltip" onclick="SIMP1generation()" aria-label="Step">
						<i class="fa fa-step-forward" aria-hidden="true"></i>
						<!-- <p>
							SIMP 1 iteration
						</p> -->
						<span class="tooltiptext">SIMP 1 generation</span>
					</button>
					<button class="tooltip" onclick="computeAndUpdateCompliance()" aria-label="Compute compliance">
						<i class="fa fa-calculator"
						aria-hidden="true"></i>
						<span class="tooltiptext">Compute compliance for current shape</span>
						
					</button>
					<button class="tooltip" onclick="SIMPreset()" aria-label="Reset">
						<i class="fa fa-repeat" aria-hidden="true"></i>
						<span class="tooltiptext">Reset shape</span>
						
					</button>
				</div>
				<div class="display-value-box"> Pick and paint: </div>
				<div class="flex-row">
					<div class="box white" id="whitebox"></div> void
					<div class="box black" id="blackbox"></div> solid
					<div class="box gray ispicked" id="graybox"></div> 0.5
				</div>
			</div>
			
		</div>
		
		
	</section>
	
	<section>
		<ul>
			<li> Use the buttons to run the <a
				href="https://doi.org/10.1007/s00158-010-0594-7">SIMP</a> algorithm
			</li>
			<li>
				Modify the shape with pick and paint buttons.
			</li>
		</ul>
	</section>
	
	<footer>
		<div class="flex-row no-wrap">
			MIT License 2022 - Vivek T Ramamoorthy
		</div>
		<div class="flex-row no-wrap">
			<a href="https://no2noise.eu">No2Noise</a>   
			<a href="https://www.nottingham.ac.uk">UoN</a> 
			<a href="https://www.matelys.com">Matelys</a> 
		</div>
		
	</footer>
	<!-- SCRIPTS -->
	<script defer type="text/javascript" src="SIMPcontrols.js"></script>
	<script defer type="text/javascript" src="main.js"></script>
	
	<!-- PWA -->
	<script>
		if ('serviceWorker' in navigator){
			navigator.serviceWorker.register('service-worker.js');
		}
	</script>
	
</body>

</html>